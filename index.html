<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Photo Translator</title>
  <link rel="manifest" href="./manifest.json" />
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div id="wrap">
    <!-- 画像エリア（先頭） -->
    <div id="stage" class="panel" style="padding:0">
      <video id="cam" playsinline autoplay muted></video>
      <canvas id="shot"></canvas>
    </div>

    <!-- ボタン／設定（画像の下） -->
    <div class="panel">
      <div class="bar">
        <div class="row">
          <button id="btnCapture">🎥 カメラ起動 / Start camera</button>
          <button id="btnRetake" style="display:none">↩︎ 撮り直し</button>
          <button id="btnAnalyze" disabled>🔎 タグ解析 / Analyze</button>
          <button id="btnPick" type="button">🖼 画像</button>
          <input id="file" type="file" accept="image/*" />
        </div>
        <div class="row">
          <span class="muted">Languages</span>
          <span class="pill">🇯🇵 JA</span><span class="pill">🇨🇳 ZH</span><span class="pill">🇰🇷 KO</span><span class="pill">🇺🇸 EN</span>
          <span class="muted">Top-K</span>
          <select id="topk">
            <option selected>10</option>
            <option>30</option>
            <option>50</option>
            <option>80</option>
          </select>
        </div>
      </div>
      <div class="muted" id="status">カメラ起動中…（許可が必要です）</div>
    </div>

    <!-- タグエリア（最後） -->
    <div class="panel">
      <div class="bar" style="margin-bottom:6px">
        <div class="row">
          <b>Tags</b>
          <span class="muted">（タップで発音）</span>
        </div>
      </div>
      <div id="tags" class="muted">まだ解析していません。</div>
      <div class="muted" style="margin-top:8px">
        ※ 発音は端末のTTS音声に依存します。
      </div>
    </div>
  </div>

  <script type="module" src="./app.js"></script>
</body>
</html>
